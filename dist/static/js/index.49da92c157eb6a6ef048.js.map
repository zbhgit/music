{"version":3,"sources":["webpack:///static/js/index.49da92c157eb6a6ef048.js","webpack:///./src/pages/index/js/audio.js","webpack:///./src/pages/index/js/music_audio.js","webpack:///./src/pages/index/js/music_detail.js","webpack:///./src/pages/index/js/api.js","webpack:///./src/pages/index/js/music_list.js","webpack:///./src/pages/index/js/music_little_control.js"],"names":["webpackJsonp","module","__webpack_exports__","__webpack_require__","play","onOff","$listAudioImg","addClass","$listPlay","fadeOut","$detailPlay","$listPause","fadeIn","$detailPause","myAudio","pause","removeClass","next","length","$","find","currentIndex","prev","bind","insertUrl","url","index","src","formatTime","num","parseInt","iM","Math","floor","iS","addZero","test","navigator","userAgent","document","querySelector","init","loadMusic","id","ajax","method","success","data","songName","songs","name","songAr","ar","songImg","al","picUrl","__WEBPACK_IMPORTED_MODULE_0__music_little_control__","show","loadMusicUrl","result","songUrl","__WEBPACK_IMPORTED_MODULE_1__audio__","$musicDetails","css","viewHeight","slideUp","slideDown","$detailTipWrapper","on","touchstart","__WEBPACK_IMPORTED_MODULE_0__audio__","$detailProBar","ev","This","this","touch","originalEvent","changedTouches","disX","pageX","position","left","touchmove","L","parentWidth","scale","$detailProUp","currentTime","duration","$detailNowTime","html","touchend","off","$detailPrev","targetIndex","eq","attr","__WEBPACK_IMPORTED_MODULE_1__music_audio__","changeActiveLi","$detailNext","allTime","$detailAllTime","clearInterval","timer","setInterval","one","console","log","siblings","window","height","parent","width","__WEBPACK_IMPORTED_MODULE_0__music_list__","__WEBPACK_IMPORTED_MODULE_1__music_detail__","device","viewWidth","designWidth","$main","exports","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_expose_loader_jquery__","__WEBPACK_IMPORTED_MODULE_1__css_style_scss__","n","__WEBPACK_IMPORTED_MODULE_2__css_music_detail_scss__","moveScroll","hotSongs","each","i","obj","$li","$listContentUl","append","childHeight","onOff3","e","preventDefault","parentHeight","downY","pageY","prevY","downTop","top","onOff1","onOff2","speed","iTop","abs","$listContent","songImgUrl","$listAudio","$listAudioText","$listAudioBtn","$detailTitle","__WEBPACK_IMPORTED_MODULE_2__audio__"],"mappings":"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","file":"static/js/index.49da92c157eb6a6ef048.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\n * Created by Z on 2017/12/10.\n */\n\nvar touchstart = 'touchstart';\nvar touchmove = 'touchmove';\nvar touchend = 'touchend';\nvar isMobile = /Mobile/i.test(navigator.userAgent);\nif (!isMobile) {\n  touchend = 'mouseup';\n  touchstart = 'mousedown';\n  touchmove = 'mousemove';\n}\n\nvar myAudio = document.querySelector('#myAudio');\nvar $listAudioImg = $('#list_audioImg');\nvar $listAudioBtn = $('#list_audioBtn');\nvar $listPlay = $('#list_play');\nvar $listPause = $('#list_pause');\nvar $detailPlay = $('#detailPlay #play');\nvar $detailPause = $('#detailPlay #pause');\n\nvar onOff = true;\n\nvar currentIndex = void 0;\n\n// 播放\nfunction play() {\n  onOff = false;\n  $listAudioImg.addClass('rotate');\n  $listPlay.fadeOut(300);\n  $detailPlay.fadeOut(300);\n  $listPause.fadeIn(300);\n  $detailPause.fadeIn(300);\n  myAudio.play();\n}\n// 暂停\nfunction pause() {\n  $listAudioImg.removeClass('rotate');\n  $listPause.fadeOut(300);\n  $detailPause.fadeOut(300);\n  $listPlay.fadeIn(300);\n  $detailPlay.fadeIn(300);\n  myAudio.pause();\n}\n// 下一首歌儿\nfunction next() {\n  var length = $('#list_contentUl').find('li').length;\n  var target = currentIndex === length ? 0 : currentIndex - 1;\n  return target;\n}\n// 上一首歌儿\n\nfunction prev() {\n  var length = $('#list_contentUl').find('li').length;\n  var target2 = currentIndex === 0 ? length - 1 : currentIndex + 1;\n  return target2;\n}\n\nfunction bind() {\n  var a = 1;\n}\nfunction insertUrl(url, index) {\n  myAudio.src = url;\n  currentIndex = index;\n  if (!onOff) {\n    play();\n  }\n}\nfunction formatTime(num) {\n  num = parseInt(num);\n  var iM = Math.floor(num % 3600 / 60);\n  var iS = Math.floor(num % 60);\n  return addZero(iM) + ':' + addZero(iS);\n}\nfunction addZero(num) {\n  if (num < 10) {\n    return '0' + num;\n  } else {\n    return '' + num;\n  }\n}\n\nfunction init() {\n  bind();\n}\ninit();\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  play: play,\n  pause: pause,\n  insertUrl: insertUrl,\n  formatTime: formatTime,\n  next: next,\n  prev: prev\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__music_little_control__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__audio__ = __webpack_require__(0);\n/**\n * Created by Z on 2017/12/10.\n */\n\n\nfunction init() {}\n// 加载音乐\nfunction loadMusic(id, index) {\n  $.ajax({\n    url: '/api/song/detail?ids=' + id,\n    method: 'get',\n    success: function success(data) {\n      var songName = data.songs[0].name;\n      var songAr = data.songs[0].ar[0].name;\n      var songImg = data.songs[0].al.picUrl;\n      __WEBPACK_IMPORTED_MODULE_0__music_little_control__[\"a\" /* default */].show(songName, songAr, songImg);\n    }\n  });\n  loadMusicUrl(id, index);\n}\n// 加载歌曲\n\nfunction loadMusicUrl(id, index) {\n  $.ajax({\n    url: '/api/music/url?id=' + id,\n    method: 'get',\n    success: function success(result) {\n      var songUrl = result.data[0].url;\n      __WEBPACK_IMPORTED_MODULE_1__audio__[\"a\" /* default */].insertUrl(songUrl, index);\n    }\n  });\n}\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  init: init,\n  loadMusic: loadMusic\n});\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__audio__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__music_audio__ = __webpack_require__(1);\n/**\n * Created by Z on 2017/12/10.\n */\n\n\nvar touchstart = 'touchstart';\nvar touchmove = 'touchmove';\nvar touchend = 'touchend';\nvar isMobile = /Mobile/i.test(navigator.userAgent);\nif (!isMobile) {\n  touchend = 'mouseup';\n  touchstart = 'mousedown';\n  touchmove = 'mousemove';\n}\n\nvar viewHeight = $(window).height();\nvar $musicDetails = $('#musicDetails');\nvar $detailTipWrapper = $('.detail_tip_wrapper');\nvar $detailPlay = $('#detailPlay');\nvar $detailPrev = $('#detailPrev');\nvar $detailNext = $('#detailNext');\nvar $detailProUp = $('#detailProUp');\nvar $detailProBar = $('#detailProBar');\nvar $detailNowTime = $('#detailNowTime');\nvar $detailAllTime = $('#detailAllTime');\nvar myAudio = document.querySelector('#myAudio');\nvar timer = void 0;\nvar scale = void 0;\nvar onOff = true;\n// 拖动差值\nvar disX = 0;\nvar index = void 0;\n\nvar parentWidth = $detailProBar.parent().width();\n\n// 初始状态  隐藏歌曲详细窗口\nfunction init() {\n  bind();\n  $musicDetails.css('transform', 'translate3d(0,' + viewHeight + 'px,0)');\n}\n// 向上展开\nfunction slideUp() {\n  $musicDetails.css('transition', '.4s');\n  $musicDetails.css('transform', 'translate3d(0,0,0)');\n}\n// 向下收缩\nfunction slideDown() {\n  $musicDetails.css('transition', '.4s');\n  $musicDetails.css('transform', 'translate3d(0,' + viewHeight + 'px,0)');\n}\n\nfunction bind() {\n  $detailTipWrapper.on(touchstart, function () {\n    slideDown();\n  });\n  $detailPlay.on(touchstart, function () {\n    if (onOff) {\n      __WEBPACK_IMPORTED_MODULE_0__audio__[\"a\" /* default */].pause();\n    } else {\n      __WEBPACK_IMPORTED_MODULE_0__audio__[\"a\" /* default */].play();\n    }\n    onOff = !onOff;\n    return false;\n  });\n  $detailProBar.on(touchstart, function (ev) {\n    __WEBPACK_IMPORTED_MODULE_0__audio__[\"a\" /* default */].pause();\n    var This = this;\n    var touch = ev.originalEvent.changedTouches ? ev.originalEvent.changedTouches[0] : ev;\n    disX = touch.pageX - $(this).position().left;\n    $(document).on(touchmove + '.move', function (ev) {\n      var touch = ev.originalEvent.changedTouches ? ev.originalEvent.changedTouches[0] : ev;\n\n      var L = touch.pageX - disX;\n      if (L < 0) {\n        L = 0;\n      } else if (L > parentWidth) {\n        L = parentWidth;\n      }\n      scale = L / parentWidth > 0.99 ? 0.99 : L / parentWidth;\n      $(This).css('left', scale * 100 + '%');\n      $detailProUp.css('width', scale * 100 + '%');\n      myAudio.currentTime = myAudio.duration * scale;\n      $detailNowTime.html(__WEBPACK_IMPORTED_MODULE_0__audio__[\"a\" /* default */].formatTime(myAudio.currentTime));\n    });\n    $(document).on(touchend + '.move', function () {\n      myAudio.currentTime = myAudio.duration * scale;\n      __WEBPACK_IMPORTED_MODULE_0__audio__[\"a\" /* default */].play();\n      $(this).off('.move');\n    });\n  });\n  $detailPrev.on(touchstart, function () {\n    var targetIndex = __WEBPACK_IMPORTED_MODULE_0__audio__[\"a\" /* default */].prev();\n    var id = $('#list_contentUl').find('li').eq(targetIndex).attr('data-id');\n    __WEBPACK_IMPORTED_MODULE_1__music_audio__[\"a\" /* default */].loadMusic(id, targetIndex);\n    changeActiveLi(targetIndex);\n    return false;\n  });\n  $detailNext.on(touchstart, function () {\n    var targetIndex = __WEBPACK_IMPORTED_MODULE_0__audio__[\"a\" /* default */].prev();\n    var id = $('#list_contentUl').find('li').eq(targetIndex).attr('data-id');\n    __WEBPACK_IMPORTED_MODULE_1__music_audio__[\"a\" /* default */].loadMusic(id, targetIndex);\n    changeActiveLi(targetIndex);\n    return false;\n  });\n\n  // 加载结束可播放\n  $(myAudio).on('canplaythrough', function () {\n    __WEBPACK_IMPORTED_MODULE_0__audio__[\"a\" /* default */].play();\n    var allTime = __WEBPACK_IMPORTED_MODULE_0__audio__[\"a\" /* default */].formatTime(myAudio.duration);\n    $detailAllTime.html(allTime);\n  });\n  //  播放中\n  $(myAudio).on('playing', function () {\n    clearInterval(timer);\n    timer = setInterval(function () {\n      $detailNowTime.html(__WEBPACK_IMPORTED_MODULE_0__audio__[\"a\" /* default */].formatTime(myAudio.currentTime));\n      scale = myAudio.currentTime / myAudio.duration;\n      $detailProUp.css('width', scale * 100 + '%');\n      $detailProBar.css('left', scale * 100 + '%');\n    }, 1000);\n  });\n  // 暂停\n  $(myAudio).one('pause', function () {\n    __WEBPACK_IMPORTED_MODULE_0__audio__[\"a\" /* default */].pause();\n    clearInterval(timer);\n  });\n  // 播放结束\n  $(myAudio).on('ended', function () {\n    clearInterval(timer);\n    var targetIndex = __WEBPACK_IMPORTED_MODULE_0__audio__[\"a\" /* default */].next();\n    var id = $('#list_contentUl').find('li').eq(targetIndex).attr('data-id');\n    __WEBPACK_IMPORTED_MODULE_1__music_audio__[\"a\" /* default */].loadMusic(id, targetIndex);\n    changeActiveLi(targetIndex);\n  });\n}\n\nfunction changeActiveLi(index) {\n  console.log('change');\n  $('#list_contentUl').find('li').eq(index).addClass('active').siblings().attr('class', '');\n}\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  init: init,\n  slideDown: slideDown,\n  slideUp: slideUp\n});\n\n/***/ }),\n/* 3 */,\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__music_list__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__music_detail__ = __webpack_require__(2);\n\n\n$(function () {\n  var viewWidth = $(window).width();\n  var viewHeight = $(window).height();\n  var designWidth = 640;\n  var $main = $('#main');\n  // 整个项目初始化\n  function init() {\n    device();\n    __WEBPACK_IMPORTED_MODULE_0__music_list__[\"a\" /* default */].init();\n    __WEBPACK_IMPORTED_MODULE_1__music_detail__[\"a\" /* default */].init();\n  }\n\n  // 宽度处理\n  function device() {\n\n    if (viewWidth > designWidth) {\n      $main.css('width', '640px');\n    }\n  }\n  init();\n});\n\n/***/ }),\n/* 5 */,\n/* 6 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_expose_loader_jquery__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_expose_loader_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_expose_loader_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__css_style_scss__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__css_style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__css_style_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__css_music_detail_scss__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__css_music_detail_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__css_music_detail_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__js_api__ = __webpack_require__(4);\n\n\n\n// import \"./js/api\";\n\n\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__music_detail__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__music_audio__ = __webpack_require__(1);\n\n\nvar $listContentUl = $('#list_contentUl');\nvar $listContent = $('.list_content');\nvar $list_audio = $('#list_audio');\nvar touchstart = 'touchstart';\nvar touchmove = 'touchmove';\nvar touchend = 'touchend';\nvar isMobile = /Mobile/i.test(navigator.userAgent);\nif (!isMobile) {\n  touchend = 'mouseup';\n  touchstart = 'mousedown';\n  touchmove = 'mousemove';\n}\n// s手指按下坐标\nvar downY = 0;\n// 缓存移动距离\nvar downTop = 0;\nvar prevY = 0;\n// 父级高度\nvar parentHeight = $listContent.height();\nvar childHeight = $listContentUl.height();\n\nvar onOff1 = true;\nvar onOff2 = true;\nvar onOff3 = true;\n// 手指离开时的速度\nvar speed = 1;\nvar timer = void 0;\n// 添加索引\nvar index = void 0;\nfunction init() {\n  data();\n  moveScroll();\n  bind();\n}\n\nfunction data() {\n  $.ajax({\n    url: 'api/artists?id=6452',\n    success: function success(result) {\n      var data = result.hotSongs;\n      $.each(data, function (i, obj) {\n        var $li = '<li data-id=' + obj.id + '>\\n          <h3 class=\"title\">' + obj.name + '</h3><p class=\"name\"><span>' + obj.ar[0].name + '</span> - ' + obj.al.name + '</p></li>';\n        $listContentUl.append($li);\n      });\n      childHeight = $listContentUl.height();\n    }\n  });\n}\n\nfunction bind() {\n  $listContentUl.on(touchend, 'li', function () {\n    if (onOff3) {\n      $(this).addClass('active').siblings().removeClass('active');\n      var id = $(this).attr('data-id');\n      index = $(this).index();\n      __WEBPACK_IMPORTED_MODULE_1__music_audio__[\"a\" /* default */].loadMusic(id, index);\n    }\n  });\n}\n\n// 滑动列表\nfunction moveScroll() {\n  $(document).on(touchmove, function (e) {\n    e.preventDefault();\n  });\n  // 手指按下\n  $listContentUl.on(touchstart, function (ev) {\n    if (parentHeight > childHeight) {\n      return false;\n    }\n    clearInterval(timer);\n    var touch = ev.originalEvent.changedTouches ? ev.originalEvent.changedTouches[0] : ev;\n    var This = this;\n    downY = touch.pageY;\n    prevY = touch.pageY;\n    downTop = $(this).position().top;\n    onOff1 = true;\n    onOff2 = true;\n    onOff3 = true;\n    $(this).css('transition', '');\n    // 滑动\n    $(document).on(touchmove + '.move', function (ev) {\n      onOff3 = false;\n      var touch = ev.originalEvent.changedTouches ? ev.originalEvent.changedTouches[0] : ev;\n      // 获取速度\n      speed = touch.pageY - prevY;\n      prevY = touch.pageY;\n\n      // 判断边界\n      var iTop = $(This).position().top;\n      if (iTop >= 0) {\n        if (onOff1) {\n          onOff1 = false;\n          downY = touch.pageY;\n        }\n        $(This).css('transform', 'translate3d(0,' + (touch.pageY - downY) / 3 + 'px,0');\n      } else if (iTop <= parentHeight - childHeight) {\n        if (onOff2) {\n          onOff2 = false;\n          downY = touch.pageY;\n        }\n        $(This).css('transform', 'translate3d(0,' + ((touch.pageY - downY) / 3 + parentHeight - childHeight) + 'px,0');\n      } else {\n        $(This).css('transform', 'translate3d(0,' + (touch.pageY - downY + downTop) + 'px,0');\n      }\n    });\n    $(document).on(touchend + '.move', function (ev) {\n      $(this).off('.move');\n      if (!onOff3) {\n        clearInterval(timer);\n        timer = setInterval(function () {\n          var iTop = $(This).position().top;\n          if (Math.abs(speed) <= 1 || iTop > 50 || iTop < parentHeight - childHeight - 50) {\n            clearInterval(timer);\n            if (iTop >= 0) {\n              $(This).css('transition', '.2s');\n              $(This).css('transform', 'translate3d(0,0,0');\n            } else if (iTop <= parentHeight - childHeight) {\n              $(This).css('transition', '.2s');\n              $(This).css('transform', 'translate3d(0,' + (parentHeight - childHeight) + 'px,0');\n            }\n          } else {\n\n            speed *= 0.9;\n            $(This).css('transform', 'translate3d(0,' + (iTop + speed) + 'px,0');\n          }\n        }, 13);\n      }\n    });\n    return false;\n  });\n  $listContentUl.on('transitionend webkitTransitionEnd', function () {\n    $(this).css('transition', '');\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  init: init\n});\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__music_audio__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__music_detail__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__audio__ = __webpack_require__(0);\n/**\n * Created by Z on 2017/12/10.\n */\n\n\n\nvar touchstart = 'touchstart';\nvar touchmove = 'touchmove';\nvar touchend = 'touchend';\nvar isMobile = /Mobile/i.test(navigator.userAgent);\nif (!isMobile) {\n  touchend = 'mouseup';\n  touchstart = 'mousedown';\n  touchmove = 'mousemove';\n}\n\nvar $listAudio = $('#list_audio');\nvar $listAudioImg = $('#list_audioImg');\nvar $listAudioText = $('#list_audioText');\nvar $listAudioBtn = $('#list_audioBtn');\nvar $listPlay = $('#list_play');\nvar $listPause = $('#list_pause');\nvar $musicDetails = $('#musicDetails');\nvar $detailTitle = $('.detail_name');\nvar onOff = true;\n\nfunction show(songName, songAr, songImgUrl) {\n  $listAudio.slideDown();\n  $listAudioImg.attr('src', songImgUrl);\n  $listAudioText.find('h3').html(songName);\n  $listAudioText.find('p').html(songAr);\n  $listAudioBtn.show();\n  $detailTitle.html(songName + '<span>' + songAr + '</span> ');\n  $musicDetails.css('background-image', 'url(' + songImgUrl + ')');\n}\n\nfunction bind() {\n  $listAudio.on(touchstart, function () {\n    __WEBPACK_IMPORTED_MODULE_1__music_detail__[\"a\" /* default */].slideUp();\n  });\n  $listAudioBtn.on(touchstart, function () {\n    if (onOff) {\n      __WEBPACK_IMPORTED_MODULE_2__audio__[\"a\" /* default */].pause();\n    } else {\n      __WEBPACK_IMPORTED_MODULE_2__audio__[\"a\" /* default */].play();\n    }\n    onOff = !onOff;\n\n    return false;\n  });\n}\nbind();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  show: show\n});\n\n/***/ })\n],[8]);\n\n\n// WEBPACK FOOTER //\n// static/js/index.49da92c157eb6a6ef048.js","/**\n * Created by Z on 2017/12/10.\n */\n\nlet touchstart = 'touchstart';\nlet touchmove = 'touchmove';\nlet touchend = 'touchend';\nconst isMobile = /Mobile/i.test(navigator.userAgent)\nif (!isMobile) {\n  touchend = 'mouseup';\n  touchstart = 'mousedown';\n  touchmove = 'mousemove';\n}\n\nconst myAudio = document.querySelector('#myAudio');\nconst $listAudioImg = $('#list_audioImg');\nconst $listAudioBtn = $('#list_audioBtn');\nconst $listPlay = $('#list_play');\nconst $listPause = $('#list_pause');\nconst $detailPlay = $('#detailPlay #play');\nconst $detailPause = $('#detailPlay #pause');\n\nlet onOff = true;\n\nlet currentIndex;\n\n// 播放\nfunction play() {\n  onOff = false;\n  $listAudioImg.addClass('rotate');\n  $listPlay.fadeOut(300);\n  $detailPlay.fadeOut(300);\n  $listPause.fadeIn(300);\n  $detailPause.fadeIn(300);\n  myAudio.play();\n}\n// 暂停\nfunction pause() {\n  $listAudioImg.removeClass('rotate');\n  $listPause.fadeOut(300);\n  $detailPause.fadeOut(300);\n  $listPlay.fadeIn(300);\n  $detailPlay.fadeIn(300);\n  myAudio.pause();\n}\n// 下一首歌儿\nfunction next() {\n  const length = $('#list_contentUl').find('li').length;\n  const target = currentIndex === length ? 0 : currentIndex - 1;\n  return target;\n}\n// 上一首歌儿\n\nfunction prev() {\n  const length = $('#list_contentUl').find('li').length;\n  const target2 = currentIndex === 0 ? length - 1 : currentIndex + 1;\n  return target2;\n}\n\n\nfunction bind() {\n  const a = 1;\n}\nfunction insertUrl(url, index) {\n  myAudio.src = url;\n  currentIndex = index;\n  if (!onOff) {\n    play()\n  }\n}\nfunction formatTime(num) {\n  num = parseInt(num);\n  const iM = Math.floor(num % 3600 / 60);\n  const iS = Math.floor(num % 60);\n  return `${addZero(iM)}:${addZero(iS)}`;\n}\nfunction addZero(num) {\n  if (num < 10) {\n    return '0' + num\n  } else {\n    return '' + num\n  }\n}\n\nfunction init() {\n  bind()\n}\ninit();\nexport default {\n  play,\n  pause,\n  insertUrl,\n  formatTime,\n  next,\n  prev,\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index/js/audio.js","/**\n * Created by Z on 2017/12/10.\n */\nimport tinyControl from './music_little_control'\nimport audio from './audio'\nfunction init() {\n\n}\n// 加载音乐\nfunction loadMusic(id,index) {\n  $.ajax({\n    url: `/api/song/detail?ids=${id}`,\n    method: 'get',\n    success: function (data) {\n      const songName = data.songs[0].name;\n      const songAr = data.songs[0].ar[0].name;\n      const songImg = data.songs[0].al.picUrl;\n      tinyControl.show(songName,songAr,songImg)\n    }\n  });\n  loadMusicUrl(id,index)\n}\n// 加载歌曲\n\nfunction loadMusicUrl(id,index) {\n  $.ajax({\n    url: `/api/music/url?id=${id}`,\n    method: 'get',\n    success: function (result) {\n      const songUrl = result.data[0].url;\n      audio.insertUrl(songUrl,index);\n    }\n  });\n}\nexport default {\n  init,\n  loadMusic,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index/js/music_audio.js","/**\n * Created by Z on 2017/12/10.\n */\nimport audio from './audio'\nimport musicAjax from './music_audio';\nlet touchstart = 'touchstart';\nlet touchmove = 'touchmove';\nlet touchend = 'touchend';\nconst isMobile = /Mobile/i.test(navigator.userAgent)\nif (!isMobile) {\n  touchend = 'mouseup';\n  touchstart = 'mousedown';\n  touchmove = 'mousemove';\n}\n\nconst viewHeight = $(window).height();\nconst $musicDetails = $('#musicDetails');\nconst $detailTipWrapper = $('.detail_tip_wrapper');\nconst $detailPlay = $('#detailPlay');\nconst $detailPrev = $('#detailPrev');\nconst $detailNext = $('#detailNext');\nconst $detailProUp = $('#detailProUp');\nconst $detailProBar = $('#detailProBar');\nconst $detailNowTime = $('#detailNowTime');\nconst $detailAllTime = $('#detailAllTime');\nconst myAudio = document.querySelector('#myAudio');\nlet timer;\nlet scale;\nlet onOff = true;\n// 拖动差值\nlet disX = 0;\nlet index;\n\n\nconst parentWidth = $detailProBar.parent().width();\n\n// 初始状态  隐藏歌曲详细窗口\nfunction init() {\n  bind();\n  $musicDetails.css('transform', `translate3d(0,${viewHeight}px,0)`)\n}\n// 向上展开\nfunction slideUp() {\n  $musicDetails.css('transition', `.4s`);\n  $musicDetails.css('transform', `translate3d(0,0,0)`)\n}\n// 向下收缩\nfunction slideDown() {\n  $musicDetails.css('transition', `.4s`);\n  $musicDetails.css('transform', `translate3d(0,${viewHeight}px,0)`)\n}\n\n\nfunction bind() {\n  $detailTipWrapper.on(touchstart, function () {\n    slideDown();\n  });\n  $detailPlay.on(touchstart, function () {\n    if (onOff) {\n      audio.pause();\n    } else {\n      audio.play();\n    }\n    onOff = !onOff;\n    return false;\n  });\n  $detailProBar.on(touchstart, function (ev) {\n    audio.pause();\n    const This = this;\n    const touch = ev.originalEvent.changedTouches ? ev.originalEvent.changedTouches[0] : ev;\n    disX = touch.pageX - $(this).position().left;\n    $(document).on(touchmove + '.move', function (ev) {\n      const touch = ev.originalEvent.changedTouches ? ev.originalEvent.changedTouches[0] : ev;\n\n      let L = touch.pageX - disX;\n      if (L < 0) {\n        L = 0;\n      } else if (L > parentWidth) {\n        L = parentWidth;\n      }\n      scale = L / parentWidth > 0.99 ? 0.99 : L / parentWidth;\n      $(This).css('left', `${scale * 100}%`);\n      $detailProUp.css('width', `${scale * 100}%`);\n      myAudio.currentTime = myAudio.duration * scale;\n      $detailNowTime.html(audio.formatTime(myAudio.currentTime));\n\n    });\n    $(document).on(touchend + '.move', function () {\n      myAudio.currentTime = myAudio.duration * scale;\n      audio.play();\n      $(this).off('.move');\n    })\n  });\n  $detailPrev.on(touchstart, function () {\n    const targetIndex = audio.prev();\n    const id = $('#list_contentUl').find('li').eq(targetIndex).attr('data-id');\n    musicAjax.loadMusic(id, targetIndex);\n    changeActiveLi(targetIndex);\n    return false\n  });\n  $detailNext.on(touchstart, function () {\n    const targetIndex = audio.prev();\n    const id = $('#list_contentUl').find('li').eq(targetIndex).attr('data-id');\n    musicAjax.loadMusic(id, targetIndex);\n    changeActiveLi(targetIndex);\n    return false\n  });\n\n  // 加载结束可播放\n  $(myAudio).on('canplaythrough', function () {\n    audio.play();\n    const allTime = audio.formatTime(myAudio.duration);\n    $detailAllTime.html(allTime)\n  });\n//  播放中\n  $(myAudio).on('playing', function () {\n    clearInterval(timer);\n    timer = setInterval(function () {\n      $detailNowTime.html(audio.formatTime(myAudio.currentTime));\n      scale = myAudio.currentTime / myAudio.duration;\n      $detailProUp.css('width', `${scale * 100}%`);\n      $detailProBar.css('left', `${scale * 100}%`);\n    }, 1000)\n  });\n  // 暂停\n  $(myAudio).one('pause', function () {\n    audio.pause();\n    clearInterval(timer);\n  });\n  // 播放结束\n  $(myAudio).on('ended', function () {\n    clearInterval(timer);\n    const targetIndex = audio.next();\n    const id = $('#list_contentUl').find('li').eq(targetIndex).attr('data-id');\n    musicAjax.loadMusic(id, targetIndex);\n    changeActiveLi(targetIndex);\n  });\n}\n\nfunction changeActiveLi(index) {\n  console.log('change');\n  $('#list_contentUl').find('li').eq(index).addClass('active').siblings().attr('class', '')\n}\nexport default {\n  init,\n  slideDown,\n  slideUp\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index/js/music_detail.js","import musicList from './music_list'\nimport musicDetail from './music_detail'\n$(function () {\n  const viewWidth = $(window).width()\n  const viewHeight = $(window).height()\n  const designWidth = 640;\n  const $main = $('#main');\n  // 整个项目初始化\n  function init() {\n    device();\n    musicList.init();\n    musicDetail.init()\n  }\n\n  // 宽度处理\n  function device() {\n\n    if (viewWidth > designWidth) {\n      $main.css('width', '640px')\n    }\n\n  }\n  init()\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index/js/api.js","import musicDetail from './music_detail';\nimport musicAudio from './music_audio';\nconst $listContentUl = $('#list_contentUl');\nconst $listContent = $('.list_content');\nconst $list_audio = $('#list_audio');\nlet touchstart = 'touchstart';\nlet touchmove = 'touchmove';\nlet touchend = 'touchend';\nconst isMobile = /Mobile/i.test(navigator.userAgent)\nif (!isMobile) {\n  touchend = 'mouseup';\n  touchstart = 'mousedown';\n  touchmove = 'mousemove';\n}\n// s手指按下坐标\nlet downY = 0;\n// 缓存移动距离\nlet downTop = 0;\nlet prevY = 0;\n// 父级高度\nlet parentHeight = $listContent.height();\nlet childHeight = $listContentUl.height();\n\nlet onOff1 = true;\nlet onOff2 = true;\nlet onOff3 = true;\n// 手指离开时的速度\nlet speed = 1;\nlet timer;\n// 添加索引\nlet index;\nfunction init() {\n  data();\n  moveScroll();\n  bind();\n}\n\nfunction data() {\n  $.ajax({\n    url: 'api/artists?id=6452',\n    success: function (result) {\n      let data = result.hotSongs\n      $.each(data, function (i, obj) {\n        let $li = `<li data-id=${obj.id}>\n          <h3 class=\"title\">${obj.name}</h3><p class=\"name\"><span>${obj.ar[0].name}</span> - ${obj.al.name}</p></li>`;\n        $listContentUl.append($li)\n      });\n      childHeight = $listContentUl.height();\n    }\n  })\n}\n\nfunction bind() {\n  $listContentUl.on(touchend, 'li', function () {\n    if (onOff3) {\n      $(this).addClass('active').siblings().removeClass('active');\n      const id = $(this).attr('data-id');\n      index = $(this).index();\n      musicAudio.loadMusic(id,index)\n    }\n  });\n}\n\n// 滑动列表\nfunction moveScroll() {\n  $(document).on(touchmove, function (e) {\n    e.preventDefault();\n  });\n  // 手指按下\n  $listContentUl.on(touchstart, function (ev) {\n    if (parentHeight > childHeight) {\n      return false\n    }\n    clearInterval(timer);\n    const touch = ev.originalEvent.changedTouches ? ev.originalEvent.changedTouches[0] : ev;\n    const This = this;\n    downY = touch.pageY;\n    prevY = touch.pageY;\n    downTop = $(this).position().top;\n    onOff1 = true;\n    onOff2 = true;\n    onOff3 = true;\n    $(this).css('transition', '');\n    // 滑动\n    $(document).on(touchmove + '.move', function (ev) {\n      onOff3 = false;\n      const touch = ev.originalEvent.changedTouches ? ev.originalEvent.changedTouches[0] : ev;\n      // 获取速度\n      speed = touch.pageY - prevY;\n      prevY = touch.pageY;\n\n      // 判断边界\n      const iTop = $(This).position().top;\n      if (iTop >= 0) {\n        if (onOff1) {\n          onOff1 = false;\n          downY = touch.pageY\n        }\n        $(This).css('transform', `translate3d(0,${(touch.pageY - downY) / 3}px,0`)\n      } else if (iTop <= (parentHeight - childHeight)) {\n        if (onOff2) {\n          onOff2 = false;\n          downY = touch.pageY\n        }\n        $(This).css('transform', `translate3d(0,${(touch.pageY - downY) / 3 + parentHeight - childHeight}px,0`)\n      } else {\n        $(This).css('transform', `translate3d(0,${touch.pageY - downY + downTop}px,0`)\n      }\n\n    });\n    $(document).on(touchend + '.move', function (ev) {\n      $(this).off('.move');\n      if (!onOff3) {\n        clearInterval(timer);\n        timer = setInterval(function () {\n          let iTop = $(This).position().top;\n          if (Math.abs(speed) <= 1 || iTop > 50 || iTop < parentHeight - childHeight - 50) {\n            clearInterval(timer);\n            if (iTop >= 0) {\n              $(This).css('transition', '.2s');\n              $(This).css('transform', `translate3d(0,0,0`)\n            } else if (iTop <= parentHeight - childHeight) {\n              $(This).css('transition', '.2s');\n              $(This).css('transform', `translate3d(0,${parentHeight - childHeight}px,0`)\n            }\n          } else {\n\n            speed *= 0.9;\n            $(This).css('transform', `translate3d(0,${iTop + speed}px,0`)\n          }\n\n        }, 13)\n      }\n\n    });\n    return false\n  });\n  $listContentUl.on('transitionend webkitTransitionEnd', function () {\n    $(this).css('transition', '')\n  })\n}\n\nexport default {\n  init\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index/js/music_list.js","/**\n * Created by Z on 2017/12/10.\n */\nimport musicAudio from './music_audio';\nimport musicDetail from './music_detail';\nimport audio from './audio'\nlet touchstart = 'touchstart';\nlet touchmove = 'touchmove';\nlet touchend = 'touchend';\nconst isMobile = /Mobile/i.test(navigator.userAgent)\nif (!isMobile) {\n  touchend = 'mouseup';\n  touchstart = 'mousedown';\n  touchmove = 'mousemove';\n}\n\nconst $listAudio = $('#list_audio');\nconst $listAudioImg = $('#list_audioImg');\nconst $listAudioText = $('#list_audioText');\nconst $listAudioBtn = $('#list_audioBtn');\nconst $listPlay = $('#list_play');\nconst $listPause = $('#list_pause');\nconst $musicDetails = $('#musicDetails');\nconst $detailTitle = $('.detail_name');\nlet onOff = true;\n\nfunction show(songName,songAr,songImgUrl) {\n  $listAudio.slideDown();\n  $listAudioImg.attr('src',songImgUrl);\n  $listAudioText.find('h3').html(songName);\n  $listAudioText.find('p').html(songAr);\n  $listAudioBtn.show();\n  $detailTitle.html(`${songName}<span>${songAr}</span> `);\n  $musicDetails.css('background-image',`url(${songImgUrl})`)\n}\n\n\n\nfunction bind() {\n  $listAudio.on(touchstart, function () {\n    musicDetail.slideUp();\n  });\n  $listAudioBtn.on(touchstart,function () {\n    if(onOff) {\n      audio.pause();\n    } else {\n      audio.play();\n    }\n    onOff = !onOff;\n\n    return false;\n  })\n}\nbind();\n\nexport default {\n  show,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index/js/music_little_control.js"],"sourceRoot":""}